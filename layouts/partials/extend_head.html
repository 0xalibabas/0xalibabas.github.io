<!-- Custom CSS for Red Team theme -->
<style>
  :root {
    --primary: #ff4444;
    --primary-dim: #cc3333;
    --accent: #ff6666;
  }
  
  .post-content h1,
  .post-content h2,
  .post-content h3 {
    color: var(--primary);
  }
  
  .post-content code {
    background-color: #2d2d2d;
    color: #ff6b6b;
  }
  
  .post-content pre {
    background-color: #1a1a1a;
    border: 1px solid #333;
  }
  
  .post-content blockquote {
    border-left: 4px solid var(--primary);
    background-color: #2a2a2a;
  }
  
  /* Ensure videos are centered and responsive inside posts */
  .post-content video {
    display: block;
    margin: 1rem auto;
    max-width: 100%;
    height: auto;
  }

  /* Home list spacing and title color tweaks */
  .post-entry {
    margin-bottom: 16px;
  }

  .first-entry {
    min-height: auto;
    padding: var(--gap);
  }

  .post-entry .entry-header h2,
  .post-title {
    color: var(--primary);
  }
  
  /* Red Team specific styling */
  .red-team-badge {
    background: linear-gradient(45deg, #ff4444, #cc3333);
    color: white;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.8em;
    font-weight: bold;
  }
</style>

<!-- Security-focused meta tags -->
<meta name="theme-color" content="#ff4444">
<meta name="msapplication-TileColor" content="#ff4444">

<!-- Theme-aware favicons (16x16 and 32x32) -->
<link id="favicon-dark-16" rel="icon" type="image/png" sizes="16x16" href="{{ "images/favicon/favicon-16x16.png" | absURL }}">
<link id="favicon-light-16" rel="icon" type="image/png" sizes="16x16" href="{{ "images/favicon/white_favicon-16x16.png" | absURL }}">
<link id="favicon-dark-32" rel="icon" type="image/png" sizes="32x32" href="{{ "images/favicon/favicon-32x32.png" | absURL }}">
<link id="favicon-light-32" rel="icon" type="image/png" sizes="32x32" href="{{ "images/favicon/white_favicon-32x32.png" | absURL }}">
<script>
  (function() {
    function currentTheme() {
      const pref = localStorage.getItem('pref-theme');
      if (pref === 'dark' || pref === 'light') return pref;
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }

    function setMedia(elDark, elLight, isDark) {
      if (!elDark || !elLight) return;
      elDark.media = isDark ? 'all' : 'not all';
      elLight.media = isDark ? 'not all' : 'all';
    }

    function applyFavicons(theme) {
      var isDark = theme === 'dark';
      setMedia(
        document.getElementById('favicon-dark-16'),
        document.getElementById('favicon-light-16'),
        isDark
      );
      setMedia(
        document.getElementById('favicon-dark-32'),
        document.getElementById('favicon-light-32'),
        isDark
      );
    }

    // Initial
    applyFavicons(currentTheme());

    // On theme toggle
    document.addEventListener('DOMContentLoaded', function() {
      var btn = document.getElementById('theme-toggle');
      if (!btn) return;
      btn.addEventListener('click', function() {
        var theme = document.body.classList.contains('dark') ? 'dark' : 'light';
        applyFavicons(theme);
      });
    });

    // On OS scheme change
    try {
      window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(e) {
        applyFavicons(e.matches ? 'dark' : 'light');
      });
    } catch (e) {}
  })();
</script>